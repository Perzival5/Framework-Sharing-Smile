{"uid":"8e0f11da6c0f0b79","name":"DR-TC226: Verificar obtención de lista de pacientes","fullName":"tests.Patient.test_DR_US_07_GET_patient#test_Verificar_obtencion_de_lista_de_pacientes","historyId":"bc562527d0e5e98ab23ae80a7c49e7e6","time":{"start":1762214839194,"stop":1762214839565,"duration":371},"status":"skipped","statusMessage":"XFAIL bug conocido: esta fallando por que el test case anterior creo un paciente con tipo de fisura vacio\n\nAssertionError: Campo 'fissure_type' vacío en item 2","statusTrace":"get_url = 'https://project-x-829879158579.southamerica-west1.run.app/api/v1/'\n\n    @pytest.mark.smoke\n    @pytest.mark.positive\n    @pytest.mark.regression\n    @pytest.mark.xfail(reason=\"bug conocido: esta fallando por que el test case anterior creo un paciente con tipo de fisura vacio\")\n    def test_Verificar_obtencion_de_lista_de_pacientes(get_url):\n        allure.dynamic.title(\"DR-TC226: Verificar obtención de lista de pacientes\")\n        response = request_function(StaticDataVerbs.get.value, get_url, StaticDataModules.patients.value,\n                                    header_type=StaticDataHeaders.header_patient.value)\n        assert_response_status_code(response.status_code, StaticStatus.ok.value)\n        assert_schema(response.json(), \"schema_200_get.json\", StaticDataModules.patients.name)\n>       assert_patients_list_format(response.json())\n\ntests/Patient/test_DR_US_07_GET_patient.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse_data = [{'address': 'string', 'city': 'string', 'country': 'BO', 'date_of_birth': '1999-07-05', ...}, {'address': '915 Christ... {'address': 'USNS Mccarty\\nFPO AE 38517', 'city': 'East Joseph', 'country': 'AR', 'date_of_birth': '2010-09-10', ...}]\n\n    def assert_patients_list_format(response_data):\n        if isinstance(response_data, dict):\n            response_list = [response_data]\n        elif isinstance(response_data, list):\n            response_list = response_data\n        else:\n            raise AssertionError(f\"Respuesta inesperada: {type(response_data)}\")\n    \n        assert len(response_list) > 0, \"La lista de pacientes está vacía\"\n        nullable_fields = {\"city\", \"province\", \"address\", \"ref_number_2\"}\n    \n        for idx, prof in enumerate(response_list, start=1):\n            for field, value in prof.items():\n                if field not in nullable_fields:\n>                   assert value not in (\"\", None), f\"Campo '{field}' vacío en item {idx}\"\n                           ^^^^^^^^^^^^^^^^^^^^^^^\nE                   AssertionError: Campo 'fissure_type' vacío en item 2\n\nsrc/assertions/assertions_patient/assertions_patient.py:157: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1762214766337,"stop":1762214766338,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_url","time":{"start":1762214766338,"stop":1762214766338,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL bug conocido: esta fallando por que el test case anterior creo un paciente con tipo de fisura vacio\n\nAssertionError: Campo 'fissure_type' vacío en item 2","statusTrace":"get_url = 'https://project-x-829879158579.southamerica-west1.run.app/api/v1/'\n\n    @pytest.mark.smoke\n    @pytest.mark.positive\n    @pytest.mark.regression\n    @pytest.mark.xfail(reason=\"bug conocido: esta fallando por que el test case anterior creo un paciente con tipo de fisura vacio\")\n    def test_Verificar_obtencion_de_lista_de_pacientes(get_url):\n        allure.dynamic.title(\"DR-TC226: Verificar obtención de lista de pacientes\")\n        response = request_function(StaticDataVerbs.get.value, get_url, StaticDataModules.patients.value,\n                                    header_type=StaticDataHeaders.header_patient.value)\n        assert_response_status_code(response.status_code, StaticStatus.ok.value)\n        assert_schema(response.json(), \"schema_200_get.json\", StaticDataModules.patients.name)\n>       assert_patients_list_format(response.json())\n\ntests/Patient/test_DR_US_07_GET_patient.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse_data = [{'address': 'string', 'city': 'string', 'country': 'BO', 'date_of_birth': '1999-07-05', ...}, {'address': '915 Christ... {'address': 'USNS Mccarty\\nFPO AE 38517', 'city': 'East Joseph', 'country': 'AR', 'date_of_birth': '2010-09-10', ...}]\n\n    def assert_patients_list_format(response_data):\n        if isinstance(response_data, dict):\n            response_list = [response_data]\n        elif isinstance(response_data, list):\n            response_list = response_data\n        else:\n            raise AssertionError(f\"Respuesta inesperada: {type(response_data)}\")\n    \n        assert len(response_list) > 0, \"La lista de pacientes está vacía\"\n        nullable_fields = {\"city\", \"province\", \"address\", \"ref_number_2\"}\n    \n        for idx, prof in enumerate(response_list, start=1):\n            for field, value in prof.items():\n                if field not in nullable_fields:\n>                   assert value not in (\"\", None), f\"Campo '{field}' vacío en item {idx}\"\n                           ^^^^^^^^^^^^^^^^^^^^^^^\nE                   AssertionError: Campo 'fissure_type' vacío en item 2\n\nsrc/assertions/assertions_patient/assertions_patient.py:157: AssertionError","steps":[],"attachments":[{"uid":"2ab860d97dd433c4","name":"HTTP Method","source":"2ab860d97dd433c4.txt","type":"text/plain","size":3},{"uid":"3dede0bcdef8edc6","name":"Domain","source":"3dede0bcdef8edc6.txt","type":"text/plain","size":49},{"uid":"da87a79501a0c791","name":"Request URL","source":"da87a79501a0c791.txt","type":"text/plain","size":74},{"uid":"ebe08f01f3645de3","name":"Headers","source":"ebe08f01f3645de3.json","type":"application/json","size":254},{"uid":"f02cde838ff0acbe","name":"Payload","source":"f02cde838ff0acbe.json","type":"application/json","size":2},{"uid":"e3feb44bb12c1322","name":"Timestamp","source":"e3feb44bb12c1322.txt","type":"text/plain","size":19},{"uid":"55f71faf1a9523de","name":"Status Code","source":"55f71faf1a9523de.txt","type":"text/plain","size":3},{"uid":"7008e24f49adf8c1","name":"Response Headers","source":"7008e24f49adf8c1.json","type":"application/json","size":254},{"uid":"ac5d6febd7b5834f","name":"Response Payload","source":"ac5d6febd7b5834f.json","type":"application/json","size":2459},{"uid":"6cbcf3c6c5e27f6d","name":"log","source":"6cbcf3c6c5e27f6d.txt","type":"text/plain","size":3552}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"tag","value":"regression"},{"name":"tag","value":"positive"},{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests.Patient"},{"name":"suite","value":"test_DR_US_07_GET_patient"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"2461-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.Patient.test_DR_US_07_GET_patient"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["regression","smoke","positive"]},"source":"8e0f11da6c0f0b79.json","parameterValues":[]}