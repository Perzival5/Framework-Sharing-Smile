{"uid":"17ef067486e3eba5","name":"DR-TC226: Verificar obtención de lista de pacientes","fullName":"tests.Patient.test_DR_US_07_GET_patient#test_Verificar_obtencion_de_lista_de_pacientes","historyId":"bc562527d0e5e98ab23ae80a7c49e7e6","time":{"start":1762039885567,"stop":1762039885855,"duration":288},"status":"skipped","statusMessage":"XFAIL bug conocido: esta fallando por que el test case anterior creo un paciente con tipo de fisura vacio\n\nAssertionError: Campo 'fissure_type' vacío en item 2","statusTrace":"get_url = 'https://project-x-829879158579.southamerica-west1.run.app/api/v1/'\n\n    @pytest.mark.smoke\n    @pytest.mark.positive\n    @pytest.mark.regression\n    @pytest.mark.xfail(reason=\"bug conocido: esta fallando por que el test case anterior creo un paciente con tipo de fisura vacio\")\n    def test_Verificar_obtencion_de_lista_de_pacientes(get_url):\n        allure.dynamic.title(\"DR-TC226: Verificar obtención de lista de pacientes\")\n        response = request_function(StaticDataVerbs.get.value, get_url, StaticDataModules.patients.value,\n                                    header_type=StaticDataHeaders.header_patient.value)\n        assert_response_status_code(response.status_code, StaticStatus.ok.value)\n        assert_schema(response.json(), \"schema_200_get.json\", StaticDataModules.patients.name)\n>       assert_patients_list_format(response.json())\n\ntests/Patient/test_DR_US_07_GET_patient.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse_data = [{'address': 'string', 'city': 'string', 'country': 'BO', 'date_of_birth': '1999-07-05', ...}, {'address': '524 Brando...ez Corners\\nLake Charles, VA 03689', 'city': 'Port Melissaburgh', 'country': 'AR', 'date_of_birth': '2019-07-19', ...}]\n\n    def assert_patients_list_format(response_data):\n        if isinstance(response_data, dict):\n            response_list = [response_data]\n        elif isinstance(response_data, list):\n            response_list = response_data\n        else:\n            raise AssertionError(f\"Respuesta inesperada: {type(response_data)}\")\n    \n        assert len(response_list) > 0, \"La lista de pacientes está vacía\"\n        nullable_fields = {\"city\", \"province\", \"address\", \"ref_number_2\"}\n    \n        for idx, prof in enumerate(response_list, start=1):\n            for field, value in prof.items():\n                if field not in nullable_fields:\n>                   assert value not in (\"\", None), f\"Campo '{field}' vacío en item {idx}\"\n                           ^^^^^^^^^^^^^^^^^^^^^^^\nE                   AssertionError: Campo 'fissure_type' vacío en item 2\n\nsrc/assertions/assertions_patient/assertions_patient.py:157: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1762039816696,"stop":1762039816697,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"get_url","time":{"start":1762039816697,"stop":1762039816697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL bug conocido: esta fallando por que el test case anterior creo un paciente con tipo de fisura vacio\n\nAssertionError: Campo 'fissure_type' vacío en item 2","statusTrace":"get_url = 'https://project-x-829879158579.southamerica-west1.run.app/api/v1/'\n\n    @pytest.mark.smoke\n    @pytest.mark.positive\n    @pytest.mark.regression\n    @pytest.mark.xfail(reason=\"bug conocido: esta fallando por que el test case anterior creo un paciente con tipo de fisura vacio\")\n    def test_Verificar_obtencion_de_lista_de_pacientes(get_url):\n        allure.dynamic.title(\"DR-TC226: Verificar obtención de lista de pacientes\")\n        response = request_function(StaticDataVerbs.get.value, get_url, StaticDataModules.patients.value,\n                                    header_type=StaticDataHeaders.header_patient.value)\n        assert_response_status_code(response.status_code, StaticStatus.ok.value)\n        assert_schema(response.json(), \"schema_200_get.json\", StaticDataModules.patients.name)\n>       assert_patients_list_format(response.json())\n\ntests/Patient/test_DR_US_07_GET_patient.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse_data = [{'address': 'string', 'city': 'string', 'country': 'BO', 'date_of_birth': '1999-07-05', ...}, {'address': '524 Brando...ez Corners\\nLake Charles, VA 03689', 'city': 'Port Melissaburgh', 'country': 'AR', 'date_of_birth': '2019-07-19', ...}]\n\n    def assert_patients_list_format(response_data):\n        if isinstance(response_data, dict):\n            response_list = [response_data]\n        elif isinstance(response_data, list):\n            response_list = response_data\n        else:\n            raise AssertionError(f\"Respuesta inesperada: {type(response_data)}\")\n    \n        assert len(response_list) > 0, \"La lista de pacientes está vacía\"\n        nullable_fields = {\"city\", \"province\", \"address\", \"ref_number_2\"}\n    \n        for idx, prof in enumerate(response_list, start=1):\n            for field, value in prof.items():\n                if field not in nullable_fields:\n>                   assert value not in (\"\", None), f\"Campo '{field}' vacío en item {idx}\"\n                           ^^^^^^^^^^^^^^^^^^^^^^^\nE                   AssertionError: Campo 'fissure_type' vacío en item 2\n\nsrc/assertions/assertions_patient/assertions_patient.py:157: AssertionError","steps":[],"attachments":[{"uid":"147cf41ab2b22efe","name":"HTTP Method","source":"147cf41ab2b22efe.txt","type":"text/plain","size":3},{"uid":"9a09bdb7596efebc","name":"Domain","source":"9a09bdb7596efebc.txt","type":"text/plain","size":49},{"uid":"2940a773ced13f07","name":"Request URL","source":"2940a773ced13f07.txt","type":"text/plain","size":74},{"uid":"42aee9ffea452a6c","name":"Headers","source":"42aee9ffea452a6c.json","type":"application/json","size":254},{"uid":"be48b3da2e3b569","name":"Payload","source":"be48b3da2e3b569.json","type":"application/json","size":2},{"uid":"a1f08387d0002678","name":"Timestamp","source":"a1f08387d0002678.txt","type":"text/plain","size":19},{"uid":"ec03c5d6cf324404","name":"Status Code","source":"ec03c5d6cf324404.txt","type":"text/plain","size":3},{"uid":"34f2b4ea4ab99fa4","name":"Response Headers","source":"34f2b4ea4ab99fa4.json","type":"application/json","size":254},{"uid":"746d61369af298ef","name":"Response Payload","source":"746d61369af298ef.json","type":"application/json","size":2459},{"uid":"8f549fb3b8ec677e","name":"log","source":"8f549fb3b8ec677e.txt","type":"text/plain","size":3552}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":10,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"regression"},{"name":"tag","value":"positive"},{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests.Patient"},{"name":"suite","value":"test_DR_US_07_GET_patient"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"2405-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.Patient.test_DR_US_07_GET_patient"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":2,"passed":0,"unknown":0,"total":2},"items":[{"uid":"b8c7cc44ccd33e60","reportUrl":"https://Perzival5.github.io/Framework-Sharing-Smile/3//#testresult/b8c7cc44ccd33e60","status":"skipped","statusDetails":"XFAIL bug conocido: esta fallando por que el test case anterior creo un paciente con tipo de fisura vacio\n\nAssertionError: Campo 'fissure_type' vacío en item 2","time":{"start":1761858921838,"stop":1761858922026,"duration":188}}]},"tags":["regression","smoke","positive"]},"source":"17ef067486e3eba5.json","parameterValues":[]}